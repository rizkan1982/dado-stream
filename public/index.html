<!DOCTYPE html>
<html lang="id" data-theme="dark">
<!-- DADO STREAM v4.0 - Complete UI/UX Redesign (bioskop-dadok inspired) - Jan 10 2026 -->

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta name="description"
    content="DADO STREAM - Platform streaming drama China, anime, dan baca komik terlengkap. Nikmati ribuan konten hiburan gratis!">
  <meta name="keywords" content="drama china, anime, komik, streaming, dado stream, dramabox, manga">
  <meta name="author" content="DADO STREAM">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>DADO STREAM - Drama China, Anime & Komik</title>

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#7d5fff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="DADO STREAM">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="DADO STREAM">
  <meta name="msapplication-TileColor" content="#7d5fff">
  <meta name="msapplication-TileImage" content="/dado.png">

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Icons -->
  <link rel="icon" type="image/png" href="/dado.png">
  <link rel="apple-touch-icon" href="/dado.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/dado.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/dado.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/dado.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay">
    <div class="loader">
      <div class="loader-spinner"></div>
      <p class="loader-text">DADO STREAM</p>
    </div>
  </div>

  <!-- Top Navbar -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- Brand Logo -->
      <div class="navbar-brand">
        <a href="#" class="logo-link" onclick="goHome(); return false;">
          <img src="/dado.png" alt="DADO" class="logo-img">
          <span class="logo-text">DADO STREAM</span>
        </a>
      </div>

      <!-- Center Search (Desktop) -->
      <div class="navbar-search hidden-mobile">
        <div class="search-container">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input 
            type="text" 
            id="search-input-desktop" 
            class="search-input" 
            placeholder="Cari drama, anime, komik..."
            onkeypress="if(event.key==='Enter') performSearch()"
          >
        </div>
      </div>

      <!-- Right Actions -->
      <div class="navbar-actions">
        <!-- Mobile Search Toggle -->
        <button class="search-toggle visible-mobile" onclick="toggleMobileSearch()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </button>

        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle visible-mobile" id="menu-toggle" onclick="toggleMobileMenu()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Search Bar -->
    <div class="mobile-search-bar" id="mobile-search-bar" style="display: none;">
      <input 
        type="text" 
        id="search-input-mobile" 
        class="mobile-search-input" 
        placeholder="Cari..."
        onkeypress="if(event.key==='Enter') performSearch()"
      >
    </div>
  </nav>

  <!-- Sidebar (Desktop) & Mobile Menu -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleMobileMenu()"></div>
    <div class="sidebar-content">
      <div class="sidebar-header hidden-mobile">
        <h3 class="sidebar-title">Menu</h3>
      </div>
      
      <nav class="sidebar-menu">
        <a href="#" class="menu-item active" data-section="home" onclick="navigateTo('home'); return false;">
          <span class="menu-icon">üè†</span>
          <span class="menu-label">Rekomendasi</span>
        </a>
        <a href="#drama" class="menu-item" data-section="drama" onclick="navigateTo('drama'); return false;">
          <span class="menu-icon">üé¨</span>
          <span class="menu-label">Drama</span>
        </a>
        <a href="#" class="menu-item" data-category="dubindo" onclick="loadDramaCategory('dubindo'); return false;">
          <span class="menu-icon">üáÆüá©</span>
          <span class="menu-label">Indo Dub</span>
        </a>
        <a href="#anime" class="menu-item" data-section="anime" onclick="navigateTo('anime'); return false;">
          <span class="menu-icon">‚öîÔ∏è</span>
          <span class="menu-label">Anime</span>
        </a>
        <a href="#komik" class="menu-item" data-section="komik" onclick="navigateTo('komik'); return false;">
          <span class="menu-icon">üìö</span>
          <span class="menu-label">Komik</span>
        </a>
        <div class="menu-divider"></div>
        <a href="#" class="menu-item" data-category="trending" onclick="loadDramaCategory('trending'); return false;">
          <span class="menu-icon">üî•</span>
          <span class="menu-label">Trending</span>
        </a>
        <a href="#" class="menu-item" data-category="foryou" onclick="loadDramaCategory('foryou'); return false;">
          <span class="menu-icon">‚ù§Ô∏è</span>
          <span class="menu-label">For You</span>
        </a>
      </nav>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content" id="main-content">
    <!-- Home Section -->
    <section id="home-section" class="section active">
      <!-- Hero Banner -->
      <div class="hero-section">
        <div class="hero-background">
          <div class="hero-gradient"></div>
        </div>
        <div class="hero-content">
          <div class="hero-text">
            <h1 class="hero-title">DADO STREAM</h1>
            <p class="hero-subtitle">Platform streaming drama China, anime, dan komik terlengkap</p>
            <div class="hero-buttons">
              <button class="btn btn-primary" onclick="navigateTo('drama')">
                <span class="btn-icon">üé¨</span>
                <span class="btn-text">Mulai Nonton</span>
              </button>
              <button class="btn btn-secondary" onclick="navigateTo('komik')">
                <span class="btn-icon">üìñ</span>
                <span class="btn-text">Baca Komik</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Drama Section -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="section-icon">üé¨</span>
            Drama Terbaru
          </h2>
          <a href="#drama" class="section-more" onclick="navigateTo('drama'); return false;">Lihat Semua ‚Üí</a>
        </div>
        <div class="content-grid" id="home-drama-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      </div>

      <!-- Anime Section -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="section-icon">‚öîÔ∏è</span>
            Anime Populer
          </h2>
          <a href="#anime" class="section-more" onclick="navigateTo('anime'); return false;">Lihat Semua ‚Üí</a>
        </div>
        <div class="content-grid" id="home-anime-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      </div>

      <!-- Ads Banner -->
      <div class="ads-section">
        <script async="async" data-cfasync="false" src="https://pl28403034.effectivegatecpm.com/ebbbe73e25be8893e3d2fec6992015fa/invoke.js"></script>
        <div id="container-ebbbe73e25be8893e3d2fec6992015fa"></div>
      </div>

      <!-- Komik Section -->
      <div class="content-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="section-icon">üìö</span>
            Komik Rekomendasi
          </h2>
          <a href="#komik" class="section-more" onclick="navigateTo('komik'); return false;">Lihat Semua ‚Üí</a>
        </div>
        <div class="content-grid" id="home-komik-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      </div>
    </section>

    <!-- Drama Section -->
    <section id="drama-section" class="section">
      <div class="page-container">
        <div class="page-header">
          <h1 class="page-title">üì∫ Drama China</h1>
          <p class="page-subtitle">Koleksi drama China terlengkap dengan subtitle Indonesia</p>
        </div>

        <div class="filter-section">
          <button class="filter-btn active" data-filter="latest" onclick="loadDramaCategory('latest')">Terbaru</button>
          <button class="filter-btn" data-filter="trending" onclick="loadDramaCategory('trending')">Trending</button>
          <button class="filter-btn" data-filter="vip" onclick="loadDramaCategory('vip')">VIP</button>
          <button class="filter-btn" data-filter="foryou" onclick="loadDramaCategory('foryou')">Untuk Kamu</button>
          <button class="filter-btn" data-filter="dubindo" onclick="loadDramaCategory('dubindo')">Dub Indo</button>
        </div>

        <div class="content-grid" id="drama-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      </div>
    </section>

    <!-- Anime Section -->
    <section id="anime-section" class="section">
      <div class="page-container">
        <div class="page-header">
          <h1 class="page-title">üéå Anime</h1>
          <p class="page-subtitle">Nonton anime terbaru subtitle Indonesia</p>
        </div>

        <div class="filter-section">
          <button class="filter-btn active" data-filter="latest" onclick="loadAnimeCategory('latest')">Terbaru</button>
          <button class="filter-btn" data-filter="trending" onclick="loadAnimeCategory('trending')">Trending</button>
          <button class="filter-btn" data-filter="popular" onclick="loadAnimeCategory('popular')">Populer</button>
          <button class="filter-btn" data-filter="movie" onclick="loadAnimeCategory('movie')">Movie</button>
        </div>

        <div class="content-grid" id="anime-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      </div>
    </section>

    <!-- Komik Section -->
    <section id="komik-section" class="section">
      <div class="page-container">
        <div class="page-header">
          <h1 class="page-title">üìö Komik</h1>
          <p class="page-subtitle">Baca komik favorit kamu secara gratis</p>
        </div>

        <div class="filter-section">
          <button class="filter-btn active" data-filter="recommended" onclick="loadKomikCategory('recommended')">Rekomendasi</button>
          <button class="filter-btn" data-filter="popular" onclick="loadKomikCategory('popular')">Populer</button>
        </div>

        <div class="content-grid" id="komik-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      </div>
    </section>

    <!-- Search Section -->
    <section id="search-section" class="section">
      <div class="page-container">
        <div class="page-header">
          <h1 class="page-title">üîç Hasil Pencarian</h1>
          <p class="page-subtitle" id="search-query-text"></p>
        </div>

        <div class="search-tabs">
          <button class="search-tab-btn active" onclick="showSearchTab('drama')">Drama</button>
          <button class="search-tab-btn" onclick="showSearchTab('anime')">Anime</button>
          <button class="search-tab-btn" onclick="showSearchTab('komik')">Komik</button>
        </div>

        <div id="search-drama-tab" class="search-tab-content active">
          <div class="content-grid" id="search-drama-grid"></div>
        </div>
        <div id="search-anime-tab" class="search-tab-content">
          <div class="content-grid" id="search-anime-grid"></div>
        </div>
        <div id="search-komik-tab" class="search-tab-content">
          <div class="content-grid" id="search-komik-grid"></div>
        </div>
      </div>
    </section>

    <!-- Detail Section -->
    <section id="detail-section" class="section">
      <div class="page-container">
        <button class="back-button" onclick="goBack()">
          ‚Üê Kembali
        </button>
        <div id="detail-content"></div>
      </div>
    </section>

    <!-- Player Section -->
    <section id="player-section" class="section">
      <div id="player-content"></div>
    </section>

    <!-- Reader Section -->
    <section id="reader-section" class="section">
      <div class="page-container">
        <button class="back-button" onclick="goBack()">
          ‚Üê Kembali
        </button>
        <div id="reader-content"></div>
      </div>
    </section>
  </main>

  <!-- Bottom Navigation (Mobile) -->
  <nav class="bottom-nav visible-mobile">
    <a href="#" class="bottom-nav-item active" data-section="home" onclick="navigateTo('home'); return false;">
      <span class="nav-icon">üè†</span>
      <span class="nav-label">Home</span>
    </a>
    <a href="#drama" class="bottom-nav-item" data-section="drama" onclick="navigateTo('drama'); return false;">
      <span class="nav-icon">üé¨</span>
      <span class="nav-label">Drama</span>
    </a>
    <a href="#anime" class="bottom-nav-item" data-section="anime" onclick="navigateTo('anime'); return false;">
      <span class="nav-icon">‚öîÔ∏è</span>
      <span class="nav-label">Anime</span>
    </a>
    <a href="#komik" class="bottom-nav-item" data-section="komik" onclick="navigateTo('komik'); return false;">
      <span class="nav-icon">üìö</span>
      <span class="nav-label">Komik</span>
    </a>
  </nav>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-brand">
          <h3 class="footer-title">DADO STREAM</h3>
          <p class="footer-desc">Platform streaming drama China, anime, dan komik terlengkap. Nikmati ribuan konten hiburan berkualitas tinggi, gratis tanpa iklan yang mengganggu.</p>
        </div>
        <div class="footer-links">
          <div class="footer-section">
            <h4>Konten</h4>
            <a href="#drama" onclick="navigateTo('drama'); return false;">Drama China</a>
            <a href="#anime" onclick="navigateTo('anime'); return false;">Anime</a>
            <a href="#komik" onclick="navigateTo('komik'); return false;">Komik</a>
          </div>
          <div class="footer-section">
            <h4>Lainnya</h4>
            <a href="https://wa.me/6281945330179" target="_blank" rel="noopener">Kontak</a>
            <a href="#">Tentang Kami</a>
            <a href="#">FAQ</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 DADO STREAM. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-dialog">
      <button class="modal-close" onclick="closeModal()">&times;</button>
      <div id="modal-body" class="modal-body"></div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="js/app.js"></script>

  <!-- PWA & Analytics -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('[SW] Registered:', reg.scope))
          .catch(err => console.error('[SW] Registration failed:', err));
      });
    }

    (function() {
      let sessionId = localStorage.getItem('dado_session_id');
      if (!sessionId) {
        sessionId = 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('dado_session_id', sessionId);
      }

      function getDeviceInfo() {
        const ua = navigator.userAgent;
        let device = 'Desktop', browser = 'Unknown', os = 'Unknown';
        if (/Mobile|Android|iPhone|iPad/i.test(ua)) device = /iPad/i.test(ua) ? 'Tablet' : 'Mobile';
        if (/Chrome/i.test(ua) && !/Edge|Edg/i.test(ua)) browser = 'Chrome';
        else if (/Firefox/i.test(ua)) browser = 'Firefox';
        else if (/Safari/i.test(ua) && !/Chrome/i.test(ua)) browser = 'Safari';
        if (/Windows/i.test(ua)) os = 'Windows';
        else if (/Mac/i.test(ua)) os = 'MacOS';
        else if (/Android/i.test(ua)) os = 'Android';
        else if (/iOS|iPhone|iPad/i.test(ua)) os = 'iOS';
        return { device, browser, os };
      }

      async function trackEvent(eventType, data = {}) {
        try {
          await fetch('/api/analytics/track', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              eventType,
              sessionId,
              ...getDeviceInfo(),
              ...data,
              timestamp: new Date().toISOString()
            })
          });
        } catch (e) { console.log('Track error:', e); }
      }

      trackEvent('pageview');
      setInterval(async () => {
        try {
          await fetch('/api/analytics/heartbeat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ sessionId })
          });
        } catch (e) {}
      }, 30000);

      window.trackContentView = function(contentId, contentTitle, contentType) {
        trackEvent(contentType === 'komik' ? 'read' : 'watch', { contentId, contentTitle, contentType });
      };

      console.log('[Analytics] Initialized');
    })();
  </script>
</body>

</html>
